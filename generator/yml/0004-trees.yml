trees:
  - &mainline         {git_repo: *mainline-url, git_ref: master,              name: mainline}
  - &next             {git_repo: *next-url,     git_ref: master,              name: next}
  - &stable           {git_repo: *stable-url,   git_ref: linux-6.17.y,        name: stable}
  - &stable-6_12      {git_repo: *stable-url,   git_ref: linux-6.12.y,        name: "6.12"}
  - &stable-6_6       {git_repo: *stable-url,   git_ref: linux-6.6.y,         name: "6.6"}
  - &stable-6_1       {git_repo: *stable-url,   git_ref: linux-6.1.y,         name: "6.1"}
  - &stable-5_15      {git_repo: *stable-url,   git_ref: linux-5.15.y,        name: "5.15"}
  - &stable-5_10      {git_repo: *stable-url,   git_ref: linux-5.10.y,        name: "5.10"}
  - &android-mainline {git_repo: *android-url,  git_ref: android-mainline,    name: android-mainline}
  - &android15-6_6    {git_repo: *android-url,  git_ref: android15-6.6,       name: android15-6.6}
  - &android14-6_1    {git_repo: *android-url,  git_ref: android14-6.1,       name: android14-6.1}
  - &android14-5_15   {git_repo: *android-url,  git_ref: android14-5.15,      name: android14-5.15}
  - &tip              {git_repo: *tip-url,      git_ref: master,              name: tip}
tree_schedules:
  # For mainline, we want the three latest versions of LLVM to build every day
  # These should be spaced out such that they do not run on top of each other or -next.
  - &mainline_llvm_tot             {<< : *llvm_tot,     << : *mainline,         << : *weekdays_six}
  - &mainline_llvm_latest          {<< : *llvm_latest,  << : *mainline,         << : *weekdays_eighteen}
  - &mainline_llvm_20              {<< : *llvm_20,      << : *mainline,         << : *weekdays_midnight}
  # For the older versions, we do builds less frequently, depending on how old the version is
  - &mainline_llvm_19              {<< : *llvm_19,      << : *mainline,         << : *mon_fri_midnight}
  - &mainline_llvm_18              {<< : *llvm_18,      << : *mainline,         << : *mon_fri_three}
  - &mainline_llvm_17              {<< : *llvm_17,      << : *mainline,         << : *sat_midnight}
  - &mainline_llvm_16              {<< : *llvm_16,      << : *mainline,         << : *sat_midnight}
  - &mainline_llvm_15              {<< : *llvm_15,      << : *mainline,         << : *sat_three}

  # -next updates M-F in the evening AEST, which is usually around 12:00PM UTC
  - &next_llvm_tot                 {<< : *llvm_tot,     << : *next,             << : *weekdays_noon}
  - &next_llvm_latest              {<< : *llvm_latest,  << : *next,             << : *weekdays_noon}
  - &next_llvm_20                  {<< : *llvm_20,      << : *next,             << : *weekdays_noon}
  - &next_llvm_19                  {<< : *llvm_19,      << : *next,             << : *weekdays_noon}
  - &next_llvm_18                  {<< : *llvm_18,      << : *next,             << : *weekdays_noon}
  - &next_llvm_17                  {<< : *llvm_17,      << : *next,             << : *weekdays_noon}
  - &next_llvm_16                  {<< : *llvm_16,      << : *next,             << : *weekdays_noon}
  - &next_llvm_15                  {<< : *llvm_15,      << : *next,             << : *weekdays_noon}
  - &next_llvm_android             {<< : *llvm_android, << : *next,             << : *weekdays_noon}

  # stable is usually updated frequently but not more than once a week. Do builds
  # with the two latest versions of LLVM on Monday and Friday to catch updates
  # before or after the weekend but do builds with older versions only once per week,
  # as breakages in older toolchains should be rare at this point (and mainline
  # should notice first).
  - &stable_llvm_tot               {<< : *llvm_tot,     << : *stable,           << : *mon_fri_nine}
  - &stable_llvm_latest            {<< : *llvm_latest,  << : *stable,           << : *mon_fri_twentyone}
  - &stable_llvm_20                {<< : *llvm_20,      << : *stable,           << : *mon_three}
  - &stable_llvm_19                {<< : *llvm_19,      << : *stable,           << : *tue_three}
  - &stable_llvm_18                {<< : *llvm_18,      << : *stable,           << : *wed_three}
  - &stable_llvm_17                {<< : *llvm_17,      << : *stable,           << : *thur_three}
  - &stable_llvm_16                {<< : *llvm_16,      << : *stable,           << : *fri_three}
  - &stable_llvm_15                {<< : *llvm_15,      << : *stable,           << : *sat_three}
  - &stable_llvm_14                {<< : *llvm_14,      << : *stable,           << : *sun_three}
  - &stable_llvm_13                {<< : *llvm_13,      << : *stable,           << : *sun_three}

  # Longterm stable (LTS) kernels see less frequent updates the older that they get
  # Follow a similar scheme above and build new tree/toolchain combinations more
  # frequently and others not as frequently.
  - &stable-6_12_llvm_tot          {<< : *llvm_tot,     << : *stable-6_12,      << : *tue_thur_nine}
  - &stable-6_12_llvm_latest       {<< : *llvm_latest,  << : *stable-6_12,      << : *tue_thur_twentyone}
  - &stable-6_12_llvm_20           {<< : *llvm_20,      << : *stable-6_12,      << : *mon_fifteen}
  - &stable-6_12_llvm_19           {<< : *llvm_19,      << : *stable-6_12,      << : *tue_fifteen}
  - &stable-6_12_llvm_18           {<< : *llvm_18,      << : *stable-6_12,      << : *wed_fifteen}
  - &stable-6_12_llvm_17           {<< : *llvm_17,      << : *stable-6_12,      << : *thur_fifteen}
  - &stable-6_12_llvm_16           {<< : *llvm_16,      << : *stable-6_12,      << : *fri_fifteen}
  - &stable-6_12_llvm_15           {<< : *llvm_15,      << : *stable-6_12,      << : *sat_fifteen}
  - &stable-6_12_llvm_14           {<< : *llvm_14,      << : *stable-6_12,      << : *sun_fifteen}
  - &stable-6_12_llvm_13           {<< : *llvm_13,      << : *stable-6_12,      << : *mon_eighteen}

  - &stable-6_6_llvm_tot           {<< : *llvm_tot,     << : *stable-6_6,       << : *mon_fri_eighteen}
  - &stable-6_6_llvm_latest        {<< : *llvm_latest,  << : *stable-6_6,       << : *mon_fri_eighteen}
  - &stable-6_6_llvm_20            {<< : *llvm_20,      << : *stable-6_6,       << : *tue_eighteen}
  - &stable-6_6_llvm_19            {<< : *llvm_19,      << : *stable-6_6,       << : *wed_twentyone}
  - &stable-6_6_llvm_18            {<< : *llvm_18,      << : *stable-6_6,       << : *wed_twentyone}
  - &stable-6_6_llvm_17            {<< : *llvm_17,      << : *stable-6_6,       << : *wed_eighteen}
  - &stable-6_6_llvm_16            {<< : *llvm_16,      << : *stable-6_6,       << : *wed_eighteen}
  - &stable-6_6_llvm_15            {<< : *llvm_15,      << : *stable-6_6,       << : *sat_six}
  - &stable-6_6_llvm_14            {<< : *llvm_14,      << : *stable-6_6,       << : *sat_six}
  - &stable-6_6_llvm_13            {<< : *llvm_13,      << : *stable-6_6,       << : *sun_nine}
  - &stable-6_6_llvm_12            {<< : *llvm_12,      << : *stable-6_6,       << : *sun_noon}
  - &stable-6_6_llvm_11            {<< : *llvm_11,      << : *stable-6_6,       << : *sun_fifteen}

  - &stable-6_1_llvm_tot           {<< : *llvm_tot,     << : *stable-6_1,       << : *tue_thur_eighteen}
  - &stable-6_1_llvm_latest        {<< : *llvm_latest,  << : *stable-6_1,       << : *tue_thur_eighteen}
  - &stable-6_1_llvm_20            {<< : *llvm_20,      << : *stable-6_1,       << : *mon_eighteen}
  - &stable-6_1_llvm_19            {<< : *llvm_19,      << : *stable-6_1,       << : *sun_twentyone}
  - &stable-6_1_llvm_18            {<< : *llvm_18,      << : *stable-6_1,       << : *sun_twentyone}
  - &stable-6_1_llvm_17            {<< : *llvm_17,      << : *stable-6_1,       << : *wed_three}
  - &stable-6_1_llvm_16            {<< : *llvm_16,      << : *stable-6_1,       << : *wed_three}
  - &stable-6_1_llvm_15            {<< : *llvm_15,      << : *stable-6_1,       << : *sat_midnight}
  - &stable-6_1_llvm_14            {<< : *llvm_14,      << : *stable-6_1,       << : *sat_midnight}
  - &stable-6_1_llvm_13            {<< : *llvm_13,      << : *stable-6_1,       << : *sat_nine}
  - &stable-6_1_llvm_12            {<< : *llvm_12,      << : *stable-6_1,       << : *sat_noon}
  - &stable-6_1_llvm_11            {<< : *llvm_11,      << : *stable-6_1,       << : *sun_fifteen}

  - &stable-5_15_llvm_tot          {<< : *llvm_tot,     << : *stable-5_15,      << : *sat_eighteen}
  - &stable-5_15_llvm_latest       {<< : *llvm_latest,  << : *stable-5_15,      << : *sat_eighteen}
  - &stable-5_15_llvm_20           {<< : *llvm_20,      << : *stable-5_15,      << : *sun_midnight}
  - &stable-5_15_llvm_19           {<< : *llvm_19,      << : *stable-5_15,      << : *sat_twentyone}
  - &stable-5_15_llvm_18           {<< : *llvm_18,      << : *stable-5_15,      << : *sat_twentyone}
  - &stable-5_15_llvm_17           {<< : *llvm_17,      << : *stable-5_15,      << : *thur_six}
  - &stable-5_15_llvm_16           {<< : *llvm_16,      << : *stable-5_15,      << : *thur_six}
  - &stable-5_15_llvm_15           {<< : *llvm_15,      << : *stable-5_15,      << : *tue_twentyone}
  - &stable-5_15_llvm_14           {<< : *llvm_14,      << : *stable-5_15,      << : *tue_twentyone}
  - &stable-5_15_llvm_13           {<< : *llvm_13,      << : *stable-5_15,      << : *sun_eighteen}
  - &stable-5_15_llvm_12           {<< : *llvm_12,      << : *stable-5_15,      << : *sun_eighteen}
  - &stable-5_15_llvm_11           {<< : *llvm_11,      << : *stable-5_15,      << : *sun_fifteen}

  - &stable-5_10_llvm_tot          {<< : *llvm_tot,     << : *stable-5_10,      << : *sat_nine}
  - &stable-5_10_llvm_latest       {<< : *llvm_latest,  << : *stable-5_10,      << : *sat_nine}
  - &stable-5_10_llvm_20           {<< : *llvm_20,      << : *stable-5_10,      << : *sat_six}
  - &stable-5_10_llvm_19           {<< : *llvm_19,      << : *stable-5_10,      << : *sat_noon}
  - &stable-5_10_llvm_18           {<< : *llvm_18,      << : *stable-5_10,      << : *sat_noon}
  - &stable-5_10_llvm_17           {<< : *llvm_17,      << : *stable-5_10,      << : *sun_noon}
  - &stable-5_10_llvm_16           {<< : *llvm_16,      << : *stable-5_10,      << : *sun_noon}
  - &stable-5_10_llvm_15           {<< : *llvm_15,      << : *stable-5_10,      << : *sun_noon}
  - &stable-5_10_llvm_14           {<< : *llvm_14,      << : *stable-5_10,      << : *sun_noon}
  - &stable-5_10_llvm_13           {<< : *llvm_13,      << : *stable-5_10,      << : *sun_eighteen}
  - &stable-5_10_llvm_12           {<< : *llvm_12,      << : *stable-5_10,      << : *sun_eighteen}
  - &stable-5_10_llvm_11           {<< : *llvm_11,      << : *stable-5_10,      << : *sun_three}

  # In a similar manner as above, build android-mainline more frequently
  # than the branched builds with newer toolchains and build everything
  # else less frequently.
  - &android-mainline_llvm_tot     {<< : *llvm_tot,     << : *android-mainline, << : *tue_thur_eighteen}
  - &android-mainline_llvm_latest  {<< : *llvm_latest,  << : *android-mainline, << : *mon_fri_eighteen}
  - &android-mainline_llvm_20      {<< : *llvm_20,      << : *android-mainline, << : *thur_twentyone}
  - &android-mainline_llvm_19      {<< : *llvm_19,      << : *android-mainline, << : *wed_eighteen}
  - &android-mainline_llvm_android {<< : *llvm_android, << : *android-mainline, << : *wed_six}

  - &android15-6_6_llvm_tot        {<< : *llvm_tot,     << : *android15-6_6,    << : *thur_three}
  - &android15-6_6_llvm_latest     {<< : *llvm_latest,  << : *android15-6_6,    << : *thur_three}
  - &android15-6_6_llvm_20         {<< : *llvm_20,      << : *android15-6_6,    << : *mon_six}
  - &android15-6_6_llvm_19         {<< : *llvm_19,      << : *android15-6_6,    << : *mon_three}
  - &android15-6_6_llvm_18         {<< : *llvm_18,      << : *android15-6_6,    << : *mon_three}
  - &android15-6_6_llvm_android    {<< : *llvm_android, << : *android15-6_6,    << : *sun_three}

  - &android14-6_1_llvm_tot        {<< : *llvm_tot,     << : *android14-6_1,    << : *tue_three}
  - &android14-6_1_llvm_latest     {<< : *llvm_latest,  << : *android14-6_1,    << : *tue_three}
  - &android14-6_1_llvm_20         {<< : *llvm_20,      << : *android14-6_1,    << : *fri_six}
  - &android14-6_1_llvm_19         {<< : *llvm_19,      << : *android14-6_1,    << : *fri_three}
  - &android14-6_1_llvm_18         {<< : *llvm_18,      << : *android14-6_1,    << : *fri_three}
  - &android14-6_1_llvm_17         {<< : *llvm_17,      << : *android14-6_1,    << : *sun_six}
  - &android14-6_1_llvm_android    {<< : *llvm_android, << : *android14-6_1,    << : *sun_six}

  - &android14-5_15_llvm_tot       {<< : *llvm_tot,     << : *android14-5_15,   << : *tue_nine}
  - &android14-5_15_llvm_latest    {<< : *llvm_latest,  << : *android14-5_15,   << : *tue_nine}
  - &android14-5_15_llvm_20        {<< : *llvm_20,      << : *android14-5_15,   << : *thur_nine}
  - &android14-5_15_llvm_19        {<< : *llvm_19,      << : *android14-5_15,   << : *mon_nine}
  - &android14-5_15_llvm_18        {<< : *llvm_18,      << : *android14-5_15,   << : *mon_nine}
  - &android14-5_15_llvm_17        {<< : *llvm_17,      << : *android14-5_15,   << : *sun_nine}
  - &android14-5_15_llvm_android   {<< : *llvm_android, << : *android14-5_15,   << : *sun_nine}

  # -tip flows into -next so we do not need super frequent builds but
  # it does to notice the source of problems before a formal bisect
  - &tip_llvm_tot                  {<< : *llvm_tot,     << : *tip,              << : *weekdays_midnight}
  - &tip_llvm_latest               {<< : *llvm_latest,  << : *tip,              << : *weekdays_midnight}
  - &tip_llvm_20                   {<< : *llvm_20,      << : *tip,              << : *mon_fri_nine}
  - &tip_llvm_19                   {<< : *llvm_19,      << : *tip,              << : *mon_fri_midnight}
  - &tip_llvm_18                   {<< : *llvm_18,      << : *tip,              << : *mon_fri_six}
  - &tip_llvm_17                   {<< : *llvm_17,      << : *tip,              << : *tue_thur_midnight}
  - &tip_llvm_16                   {<< : *llvm_16,      << : *tip,              << : *tue_thur_six}
  - &tip_llvm_15                   {<< : *llvm_15,      << : *tip,              << : *wed_midnight}
